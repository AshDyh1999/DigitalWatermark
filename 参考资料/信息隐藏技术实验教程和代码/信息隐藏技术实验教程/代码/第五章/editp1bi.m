%修改像素的函数
%headr为块首行地址
%headc为块首列地址
%image为图像
%pixel为要修改的像素
%count为修改的数量
%randr,randc是随机置乱后的结果
function image=editp1bi(headr,headc,image,pixel,count,randr,randc)
c=0;
for i=1:64
    if image(headr+randr(i),headc+randc(i))==pixel
       %八连接检测
       if  image(headr+randr(i)-1,headc+randc(i))==~pixel || image(headr+randr(i)+1,headc+randc(i))==~pixel || image(headr+randr(i),headc+randc(i)-1)==~pixel || image(headr+randr(i),headc+randc(i)+1)==~pixel ||  image(headr+randr(i)-1,headc+randc(i)-1)==~pixel || image(headr+randr(i)-1,headc+randc(i)+1)==~pixel|| image(headr+randr(i)+1,headc+randc(i)-1)==~pixel ||  image(headr+randr(i)+1,headc+randc(i)+1)==~pixel 
           image(headr+randr(i),headc+randc(i))=~pixel+0.01;
           
           c=c+1;
       end
   end
   if c==count
       return
   end
end
if c~=count
   disp('warning!参数选择不当,未能完全按要求修改本块像素,信息可能无法提取,建议重做');
end
          